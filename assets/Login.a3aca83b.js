import{s as p,r as i,c as B,a2 as f,j as e,a1 as C,a as o,a3 as u}from"./index.5eeffe8a.js";import{F as s}from"./index.fad333d3.js";import{I as l}from"./index.204f82f5.js";import{S as x,B as m}from"./index.1ce6f452.js";import"./TextArea.e5c24ac9.js";import"./index.c50c6bf3.js";import"./responsiveObserve.8fc55ee3.js";import"./SearchOutlined.81c0625c.js";const g=p.div`
  font-size: 36px;
  margin: 50px 0;
`,y=p.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,k=()=>{const{AuthStore:t,HeaderStore:c}=i.exports.useContext(B);let n=f();const d=r=>{t.setPassword(r.password),t.setUsername(r.username),t.login().then(a=>{Array.isArray(a)?(u.success("\u767B\u5F55\u6210\u529F!"),n("/")):u.error("\u5BC6\u7801\u9519\u8BEF\u6216\u7528\u6237\u540D\u4E0D\u5B58\u5728")}).catch(a=>{u.error("\u767B\u5F55\u5931\u8D25:",a)})},F=r=>{u.error("\u767B\u5F55\u5931\u8D25:",r)},{setHeaders:h}=c;return i.exports.useEffect(()=>{h({ghost:!1,onBack:()=>window==null?void 0:window.history.back(),title:"",subTitle:"",extra:[]})},[]),e(C,{children:o(y,{children:[e(g,{children:"\u6B22\u8FCE\u4F7F\u7528\uFF0C\u8BF7\u5148\u767B\u5F55"}),o(s,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:d,onFinishFailed:F,autoComplete:"on",children:[e(s.Item,{label:"\u7528\u6237\u540D",name:"username",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],children:e(l,{})}),e(s.Item,{label:"\u5BC6\u7801",name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],children:e(l.Password,{})}),e(s.Item,{wrapperCol:{offset:8,span:16},children:o(x,{children:[e(m,{type:"primary",htmlType:"submit",children:"\u63D0\u4EA4"}),e(m,{type:"primary",onClick:()=>n("/register"),children:"\u524D\u5F80\u6CE8\u518C"})]})})]})]})})};export{k as default};
