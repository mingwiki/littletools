import{v as E,r as s,w as j,k as d,F as S,j as o,aj as m}from"./index.b15d877f.js";import{R as h}from"./index.85a82fe5.js";import{I as f}from"./index.b7ba14e3.js";import{B as g}from"./button.289857be.js";import"./TextArea.d7b40c8e.js";const R=E(()=>{const[c,y]=s.exports.useState(""),[a,r]=s.exports.useState([]),[C,x]=s.exports.useState(!1),{UrlStore:b,ConfigStore:v}=s.exports.useContext(j),{linkConfig:B,getLinkConfig:k,getConfigGroupBy:i,updateLinkConfig:F,updateConfig:N}=v,u=i("appName")[c]||i("appName")[Object.keys(i("appName"))[0]];return s.exports.useEffect(()=>{document.title="\u914D\u7F6E\u5C0F\u7A0B\u5E8F\u94FE\u63A5",k().then(()=>x(e=>!e))},[]),s.exports.useEffect(()=>{(u==null?void 0:u.length)>0&&r(u)},[c,C]),d(S,{children:[o("div",{style:{border:"1px dashed gray",padding:"5px 10px"},children:o(h.Group,{value:c||Object.keys(i("appName"))[0],onChange:e=>y(e.target.value),children:Object.keys(i("appName")).map((e,p)=>o(h,{value:e,children:e},p))})}),a==null?void 0:a.map((e,p)=>!e.hide&&d("div",{style:{display:"flex",gap:"20px"},children:[d("div",{style:{width:"60vw",display:"flex",gap:"20px"},children:[o(f,{size:"28",value:e.pageName,onChange:n=>{r(t=>{const l=[...t];return l[p].pageName=n.target.value,l})}}),o(f,{size:"28",value:e.pagePath,onChange:n=>{r(t=>{const l=[...t];return l[p].pagePath=n.target.value,l})}})]}),(a==null?void 0:a.length)>1&&o(g,{type:"primary",onClick:()=>{r(n=>{const t=[...n];return t[p].hide=!0,t})},children:"-"}),p===a.length-1?o(g,{type:"primary",onClick:()=>{r(n=>{const t={...n[0]};return t.id=null,t.pageName="",t.pagePath="",t.presets="{}",t.hide=null,[...n,t]})},children:"+"}):null]},p)),o(g,{type:"primary",onClick:()=>{a.map(e=>F(e.id,e)),N(a).then(e=>{(e==null?void 0:e.length)===0?m.success({description:"\u4E0A\u4F20\u6210\u529F"}):m.error({description:JSON.stringify(e)})})},children:"\u4FDD\u5B58\u4FEE\u6539"})]})});export{R as default};
