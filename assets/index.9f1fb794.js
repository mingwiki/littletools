import{v as F,r as s,w as S,k as d,F as b,j as o,ai as h}from"./index.75068978.js";import{R as m}from"./index.518cb8b9.js";import{I as f}from"./index.2b81088b.js";import{B as g}from"./button.176baea5.js";import"./TextArea.03b6ef47.js";const D=F(()=>{const[c,y]=s.exports.useState(""),[a,r]=s.exports.useState([]),[x,C]=s.exports.useState(!1),{UrlStore:E,ConfigStore:v}=s.exports.useContext(S),{linkConfig:B,getLinkConfig:k,getConfigGroupBy:i,updateLinkConfig:N,updateConfig:j}=v,u=i("appName")[c]||i("appName")[Object.keys(i("appName"))[0]];return s.exports.useEffect(()=>{k().then(()=>C(e=>!e))},[]),s.exports.useEffect(()=>{(u==null?void 0:u.length)>0&&r(u)},[c,x]),d(b,{children:[o("div",{style:{border:"1px dashed gray",padding:"5px 10px"},children:o(m.Group,{value:c||Object.keys(i("appName"))[0],onChange:e=>y(e.target.value),children:Object.keys(i("appName")).map((e,p)=>o(m,{value:e,children:e},p))})}),a==null?void 0:a.map((e,p)=>!e.hide&&d("div",{style:{display:"flex",gap:"20px"},children:[d("div",{style:{width:"60vw",display:"flex",gap:"20px"},children:[o(f,{size:"28",value:e.pageName,onChange:n=>{r(t=>{const l=[...t];return l[p].pageName=n.target.value,l})}}),o(f,{size:"28",value:e.pagePath,onChange:n=>{r(t=>{const l=[...t];return l[p].pagePath=n.target.value,l})}})]}),(a==null?void 0:a.length)>1&&o(g,{type:"primary",onClick:()=>{r(n=>{const t=[...n];return t[p].hide=!0,t})},children:"-"}),p===a.length-1?o(g,{type:"primary",onClick:()=>{r(n=>{const t={...n[0]};return t.id=null,t.pageName="",t.pagePath="",t.presets="{}",t.hide=null,[...n,t]})},children:"+"}):null]},p)),o(g,{type:"primary",onClick:()=>{a.map(e=>N(e.id,e)),j(a).then(e=>{(e==null?void 0:e.length)===0?h.success({description:"\u4E0A\u4F20\u6210\u529F"}):h.error({description:JSON.stringify(e)})})},children:"\u4FDD\u5B58\u4FEE\u6539"})]})});export{D as default};
