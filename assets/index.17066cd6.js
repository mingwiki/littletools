import{v as N,r as l,w as j,k as c,F,j as o,ai as m}from"./index.7ae056cf.js";import{R as h}from"./index.94fb222f.js";import{I as f}from"./index.d5c61df7.js";import{B as g}from"./button.43eb1676.js";import"./TextArea.eed17deb.js";const R=N(()=>{const[u,d]=l.exports.useState(""),[a,p]=l.exports.useState([]),{UrlStore:b,ConfigStore:y}=l.exports.useContext(j),{linkConfig:E,getLinkConfig:C,getConfigGroupBy:i,updateLinkConfig:v,updateConfig:x}=y,k=i("appName")[u]||i("appName")[Object.keys(i("appName"))[0]];return l.exports.useEffect(()=>{C(),d(Object.keys(i("appName"))[0])},[]),l.exports.useEffect(()=>{p(k)},[u]),c(F,{children:[o("div",{style:{border:"1px dashed gray",padding:"5px 10px"},children:o(h.Group,{value:u,onChange:e=>d(e.target.value),children:Object.keys(i("appName")).map((e,r)=>o(h,{value:e,children:e},r))})}),a==null?void 0:a.map((e,r)=>!e.hide&&c("div",{style:{display:"flex",gap:"20px"},children:[c("div",{style:{width:"60vw",display:"flex",gap:"20px"},children:[o(f,{size:"28",value:e.pageName,onChange:n=>{p(t=>{const s=[...t];return s[r].pageName=n.target.value,s})}}),o(f,{size:"28",value:e.pagePath,onChange:n=>{p(t=>{const s=[...t];return s[r].pagePath=n.target.value,s})}})]}),(a==null?void 0:a.length)>1&&o(g,{type:"primary",onClick:()=>{p(n=>{const t=[...n];return t[r].hide=!0,t})},children:"-"}),r===a.length-1?o(g,{type:"primary",onClick:()=>{p(n=>{const t={...n[0]};return t.id=null,t.pageName="",t.pagePath="",t.presets="{}",t.hide=null,[...n,t]})},children:"+"}):null]},r)),o(g,{type:"primary",onClick:()=>{a.map(e=>v(e.id,e)),x(a).then(e=>{(e==null?void 0:e.length)===0?m.success({description:"\u4E0A\u4F20\u6210\u529F"}):m.error({description:JSON.stringify(e)})})},children:"\u4FDD\u5B58\u4FEE\u6539"})]})});export{R as default};
