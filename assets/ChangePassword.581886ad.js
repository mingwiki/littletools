import{a0 as l,r as p,s as c,v as m,w as e,a3 as F,a2 as n,a4 as t}from"./index.4142054c.js";import{F as a,I as i}from"./index.09f1696e.js";import{S as h,B}from"./index.9d64378a.js";import"./TextArea.2c4781b1.js";import"./responsiveObserve.0c8d8406.js";import"./SearchOutlined.3dcc991d.js";const C=l.div`
  font-size: 36px;
  margin: 50px 0;
`,w=l.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,I=()=>{const{AuthStore:o,UserStore:E}=p.exports.useContext(c);let d=m();return e(F,{children:n(w,{children:[e(C,{children:"\u4FEE\u6539\u5BC6\u7801\u9875\u9762"}),n(a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:r=>{o.setPassword(r.password),o.changePassword().then(u=>{typeof u=="object"?(t.success("\u4FEE\u6539\u5BC6\u7801\u6210\u529F"),d("/")):t.error("\u8BF7\u767B\u5F55\u540E\u4FEE\u6539\u5BC6\u7801")}).catch(u=>{t.error("\u4FEE\u6539\u5BC6\u7801\u5931\u8D25,\u8BF7\u91CD\u8BD5")})},onFinishFailed:r=>{t.error(r)},autoComplete:"on",children:[e(a.Item,{label:"\u5BC6\u7801",name:"password",hasFeedback:!0,rules:[{required:!0},({getFieldValue:r})=>({validator(u,s){return/^[\w\d]{3,}$/.test(s)?Promise.resolve():Promise.reject(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801\uFF0C\u4E0D\u80FD\u5305\u542B\u7279\u6B8A\u5B57\u7B26\uFF0C\u6700\u5C113\u4F4D"))}})],children:e(i.Password,{})}),e(a.Item,{label:"\u8F93\u5165\u5BC6\u7801",name:"re-password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0},({getFieldValue:r})=>({validator(u,s){return!s||r("password")===s?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u5339\u914D"))}})],children:e(i.Password,{})}),e(a.Item,{wrapperCol:{offset:8,span:16},children:e(h,{children:e(B,{type:"primary",htmlType:"submit",children:"\u63D0\u4EA4"})})})]})]})})};export{I as default};
