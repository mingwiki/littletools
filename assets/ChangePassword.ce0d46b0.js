import{s as c,r as d,c as C,a2 as D,j as e,a1 as E,a as o,a3 as n}from"./index.c1385035.js";import{F as s}from"./index.4232a6b3.js";import{I as i}from"./index.7c1a2d34.js";import{S as w,B as m}from"./index.8bc44042.js";import"./TextArea.e9a9948c.js";import"./index.9843d167.js";import"./responsiveObserve.ee51cbfa.js";import"./SearchOutlined.311e511e.js";const f=c.div`
  font-size: 36px;
  margin: 50px 0;
`,b=c.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,A=()=>{const{AuthStore:a,HeaderStore:p}=d.exports.useContext(C);let l=D();const F=u=>{a.setUsername(u.username),a.setPassword(u.password),a.changePassword().then(()=>{n.success("\u4FEE\u6539\u5BC6\u7801\u6210\u529F"),l("/")}).catch(t=>{n.error("\u4FEE\u6539\u5BC6\u7801\u5931\u8D25,\u8BF7\u91CD\u8BD5:",t)})},B=u=>{n.error("\u4FEE\u6539\u5BC6\u7801\u5931\u8D25,\u8BF7\u91CD\u8BD5:",u)},{setHeaders:h}=p;return d.exports.useEffect(()=>{h({ghost:!1,onBack:()=>window==null?void 0:window.history.back(),title:"",subTitle:"",extra:[]})},[]),e(E,{children:o(b,{children:[e(f,{children:"\u4FEE\u6539\u5BC6\u7801\u9875\u9762"}),o(s,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:F,onFinishFailed:B,autoComplete:"on",children:[e(s.Item,{label:"\u7528\u6237\u540D",name:"username",hasFeedback:!0,rules:[{required:!0},({getFieldValue:u})=>({validator(t,r){return/^[a-zA-Z]+$/.test(r)?Promise.resolve():Promise.reject(new Error("\u8BF7\u8F93\u5165\u82F1\u6587\u5B57\u7B26\uFF0C\u4E0D\u80FD\u5305\u542B\u7279\u6B8A\u5B57\u7B26\u6216\u4E2D\u6587\uFF0C\u6700\u5C111\u4F4D"))}})],children:e(i,{})}),e(s.Item,{label:"\u5BC6\u7801",name:"password",hasFeedback:!0,rules:[{required:!0},({getFieldValue:u})=>({validator(t,r){return/^[\w\d]{3,}$/.test(r)?Promise.resolve():Promise.reject(new Error("\u8BF7\u8F93\u5165\u5BC6\u7801\uFF0C\u4E0D\u80FD\u5305\u542B\u7279\u6B8A\u5B57\u7B26\uFF0C\u6700\u5C113\u4F4D"))}})],children:e(i.Password,{})}),e(s.Item,{label:"\u8F93\u5165\u5BC6\u7801",name:"re-password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0},({getFieldValue:u})=>({validator(t,r){return!r||u("password")===r?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u5339\u914D"))}})],children:e(i.Password,{})}),e(s.Item,{wrapperCol:{offset:8,span:16},children:o(w,{children:[e(m,{type:"primary",onClick:()=>l("/login"),children:"\u524D\u5F80\u767B\u5F55"}),e(m,{type:"primary",htmlType:"submit",children:"\u63D0\u4EA4"})]})})]})]})})};export{A as default};
