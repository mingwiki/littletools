import{r,u as k,_ as g,f as ie,q as z,G as He,y,z as Ne}from"./index.4f50c1d3.js";import{R as Ce,b as Ye}from"./index.afa3cc9e.js";var Je=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],b=void 0;function Qe(e,u){var v=e.prefixCls,i=e.invalidate,l=e.item,n=e.renderItem,f=e.responsive,p=e.responsiveDisabled,o=e.registerSize,R=e.itemKey,_=e.className,h=e.style,B=e.children,H=e.display,c=e.order,F=e.component,P=F===void 0?"div":F,U=k(e,Je),m=f&&!H;function K(w){o(R,w)}r.exports.useEffect(function(){return function(){K(null)}},[]);var Y=n&&l!==b?n(l):B,I;i||(I={opacity:m?0:1,height:m?0:b,overflowY:m?"hidden":b,order:f?c:b,pointerEvents:m?"none":b,position:m?"absolute":b});var M={};m&&(M["aria-hidden"]=!0);var x=r.exports.createElement(P,g({className:ie(!i&&v,_),style:z(z({},I),h)},M,U,{ref:u}),Y);return f&&(x=r.exports.createElement(Ce,{onResize:function(J){var O=J.offsetWidth;K(O)},disabled:p},x)),x}var A=r.exports.forwardRef(Qe);A.displayName="Item";function Ze(){var e=He({}),u=y(e,2),v=u[1],i=r.exports.useRef([]),l=0,n=0;function f(p){var o=l;l+=1,i.current.length<o+1&&(i.current[o]=p);var R=i.current[o];function _(h){i.current[o]=typeof h=="function"?h(i.current[o]):h,Ne.cancel(n),n=Ne(function(){v({},!0)})}return[R,_]}return f}var et=["component"],tt=["className"],rt=["className"],at=function(u,v){var i=r.exports.useContext(X);if(!i){var l=u.component,n=l===void 0?"div":l,f=k(u,et);return r.exports.createElement(n,g({},f,{ref:v}))}var p=i.className,o=k(i,tt),R=u.className,_=k(u,rt);return r.exports.createElement(X.Provider,{value:null},r.exports.createElement(A,g({ref:v,className:ie(p,R)},o,_)))},ge=r.exports.forwardRef(at);ge.displayName="RawItem";var nt=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],X=r.exports.createContext(null),Ie="responsive",we="invalidate";function st(e){return"+ ".concat(e.length," ...")}function it(e,u){var v=e.prefixCls,i=v===void 0?"rc-overflow":v,l=e.data,n=l===void 0?[]:l,f=e.renderItem,p=e.renderRawItem,o=e.itemKey,R=e.itemWidth,_=R===void 0?10:R,h=e.ssr,B=e.style,H=e.className,c=e.maxCount,F=e.renderRest,P=e.renderRawRest,U=e.suffix,m=e.component,K=m===void 0?"div":m,Y=e.itemComponent,I=e.onVisibleChange,M=k(e,nt),x=Ze(),w=h==="full",J=x(null),O=y(J,2),V=O[0],Ee=O[1],N=V||0,be=x(new Map),oe=y(be,2),le=oe[0],ze=oe[1],Pe=x(0),ue=y(Pe,2),Ue=ue[0],We=ue[1],De=x(0),fe=y(De,2),$=fe[0],ke=fe[1],Ae=x(0),de=y(Ae,2),T=de[0],Fe=de[1],Ke=r.exports.useState(null),ve=y(Ke,2),ce=ve[0],G=ve[1],Me=r.exports.useState(null),me=y(Me,2),Q=me[0],Oe=me[1],E=r.exports.useMemo(function(){return Q===null&&w?Number.MAX_SAFE_INTEGER:Q||0},[Q,V]),Ve=r.exports.useState(!1),xe=y(Ve,2),$e=xe[0],Te=xe[1],Z="".concat(i,"-item"),Se=Math.max(Ue,$),ee=c===Ie,S=n.length&&ee,ye=c===we,Ge=S||typeof c=="number"&&n.length>c,C=r.exports.useMemo(function(){var t=n;return S?V===null&&w?t=n:t=n.slice(0,Math.min(n.length,N/_)):typeof c=="number"&&(t=n.slice(0,c)),t},[n,_,V,c,S]),te=r.exports.useMemo(function(){return S?n.slice(E+1):n.slice(C.length)},[n,C,S,E]),L=r.exports.useCallback(function(t,a){var s;return typeof o=="function"?o(t):(s=o&&(t==null?void 0:t[o]))!==null&&s!==void 0?s:a},[o]),Le=r.exports.useCallback(f||function(t){return t},[f]);function j(t,a){Oe(t),a||(Te(t<n.length-1),I==null||I(t))}function je(t,a){Ee(a.clientWidth)}function pe(t,a){ze(function(s){var d=new Map(s);return a===null?d.delete(t):d.set(t,a),d})}function Xe(t,a){ke(a),We($)}function qe(t,a){Fe(a)}function re(t){return le.get(L(C[t],t))}Ye(function(){if(N&&Se&&C){var t=T,a=C.length,s=a-1;if(!a){j(0),G(null);return}for(var d=0;d<a;d+=1){var D=re(d);if(w&&(D=D||0),D===void 0){j(d-1,!0);break}if(t+=D,s===0&&t<=N||d===s-1&&t+re(s)<=N){j(s),G(null);break}else if(t+Se>N){j(d-1),G(t-D-T+$);break}}U&&re(0)+T>N&&G(null)}},[N,le,$,T,L,C]);var Re=$e&&!!te.length,_e={};ce!==null&&S&&(_e={position:"absolute",left:ce,top:0});var W={prefixCls:Z,responsive:S,component:Y,invalidate:ye},Be=p?function(t,a){var s=L(t,a);return r.exports.createElement(X.Provider,{key:s,value:z(z({},W),{},{order:a,item:t,itemKey:s,registerSize:pe,display:a<=E})},p(t,a))}:function(t,a){var s=L(t,a);return r.exports.createElement(A,g({},W,{order:a,key:s,item:t,renderItem:Le,itemKey:s,registerSize:pe,display:a<=E}))},ae,he={order:Re?E:Number.MAX_SAFE_INTEGER,className:"".concat(Z,"-rest"),registerSize:Xe,display:Re};if(P)P&&(ae=r.exports.createElement(X.Provider,{value:z(z({},W),he)},P(te)));else{var ne=F||st;ae=r.exports.createElement(A,g({},W,he),typeof ne=="function"?ne(te):ne)}var se=r.exports.createElement(K,g({className:ie(!ye&&i,H),style:B,ref:u},M),C.map(Be),Ge?ae:null,U&&r.exports.createElement(A,g({},W,{responsive:ee,responsiveDisabled:!S,order:E,className:"".concat(Z,"-suffix"),registerSize:qe,display:!0,style:_e}),U));return ee&&(se=r.exports.createElement(Ce,{onResize:je,disabled:!S},se)),se}var q=r.exports.forwardRef(it);q.displayName="Overflow";q.Item=ge;q.RESPONSIVE=Ie;q.INVALIDATE=we;export{q as F};
