{"version":3,"file":"static/js/22.1fdf893d.chunk.js","mappings":"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","sources":["tools/AppPageToUrl/data.js","tools/AppPageToUrl/index.jsx"],"sourcesContent":["export const miniAppIds = {\n  vv会员: '2021002152610059',\n  存量小程序: '2021002181632074'\n}\nexport const miniAppPages = {\n  vv会员: {\n    '首页/办理页': 'index/index',\n    '详情页/生效页': 'detail/index',\n    会员管理: 'manage/index',\n    会员规则: 'memberRule/index',\n    会员退订: 'exit/index',\n    退订调查问卷: 'question/index',\n    会员攻略: 'strategy/index',\n    权益中间页: 'yinge/index',\n    会员账单: 'billList/index',\n    会员周: 'memberWeek/index',\n    会员任务: 'task/index'\n  },\n  存量小程序: {\n    首页: 'index/index',\n    支付结果页: 'payResult/index',\n    订单列表: 'tradeList/index',\n    订单详情: 'tradeDetail/index',\n    协议页面: 'pureText/index'\n  }\n}\nexport const miniAppPageExtra = {\n  2021002181632074: {\n    'index/index': {\n      pathname: ['splitItem', 'swiperItem', 'singleItem']\n    }\n  },\n  2021002152610059: {\n    'index/index': {\n      upgrade: true,\n      type: 'basic',\n      frame: 'single',\n      anchor: ['call', 'life', 'fee']\n    },\n    'exit/index': {\n      type: ['vip', 'basic']\n    },\n    'manage/index': {\n      type: ['vip', 'basic']\n    },\n    'memberRule/index': {\n      type: ['vip', 'basic']\n    },\n    'question/index': {\n      type: ['vip', 'basic']\n    },\n    'strategy/index': {\n      type: ['vip', 'basic']\n    }\n  }\n}\n","import React, { useState } from 'react'\nimport { Cascader, message, Button, Space, Popover, Radio, Checkbox } from 'antd'\nimport { AlipayCircleOutlined, DoubleRightOutlined, GroupOutlined, GlobalOutlined } from '@ant-design/icons'\nimport { miniAppIds, miniAppPages, miniAppPageExtra } from './data.js'\nimport styled from 'styled-components'\nimport QRCode from 'qrcode.react'\n\nconst StyledInputWrapper = styled.div`\n  display: flex;\n  gap: 10px;\n`\nconst StyledUrlWrapper = styled.p`\n  word-wrap: break-word;\n  word-break: break-all;\n  white-space: pre-wrap;\n  padding: 10px;\n  box-shadow: 0px 0px 5px 2px #5D7EA3;\n`\nconst ParamsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 10px;\n  border: 1px solid;\n`\nconst StyledInput = styled.input`\n  &:invalid {\n    background-color: red;\n  }\n`\nconst cascaderData = Object.entries(miniAppPages).map(e => {\n  const app = {\n    value: e[0],\n    label: e[0],\n    children: Object.keys(e[1]).map(e => {\n      const page = {\n        value: e,\n        label: e\n      }\n      return page\n    })\n  }\n  return app\n})\nlet pageCheckData = []\nconst Component = () => {\n  const [text, setText] = useState('小程序名称和对应页面')\n  const [appId, setAppId] = useState('')\n  const [pagePath, setPagePath] = useState('')\n  const [pageCheckQuerie, setPageCheckQuerie] = useState({})\n  const [pageInputQueries, setPageInputQueries] = useState([{ key: '', val: '' }])\n  const [globalInputQueries, setGlobalInputQueries] = useState([{ key: '', val: '' }])\n  const [isShowPopover, setIsShowPopover] = useState(false)\n  const onChangeAppPage = (value) => {\n    setText(<>{value[0]} <DoubleRightOutlined /> {value[1]}</>)\n    setAppId(miniAppIds[value[0]])\n    setPagePath(miniAppPages[value[0]][value[1]])\n    if (miniAppPageExtra[miniAppIds[value[0]]][miniAppPages[value[0]][value[1]]]) {\n      pageCheckData = Object.entries(miniAppPageExtra[miniAppIds[value[0]]][miniAppPages[value[0]][value[1]]]).map((e) => {\n        if (typeof e[1] === 'boolean') {\n          e[1] = e[1].toString()\n        }\n        if (!Array.isArray(e[1])) {\n          e[1] = [e[1]]\n        }\n        return e\n      })\n    } else {\n      pageCheckData = []\n    }\n  }\n  const pathUrl = `pages/${pagePath}`\n  const pageCheckUrl = Object.keys(pageCheckQuerie).length === 0 ? '' : Object.entries(pageCheckQuerie).map((e) => e[1].length !== 0 ? `${e[0]}=${e[1]}` : '').filter(e => e !== '').join('&')\n  const pageInputUrl = pageInputQueries.length === 1 && pageInputQueries[0].key === '' && pageInputQueries[0].val === '' ? '' : pageInputQueries.map(e => e.key !== '' && e.val !== '' ? `${e.key}=${e.val}` : '').filter(e => e !== '').join('&')\n  const globalInputUrl = globalInputQueries.length === 1 && globalInputQueries[0].key === '' && globalInputQueries[0].val === '' ? '' : globalInputQueries.map(e => e.key !== '' && e.val !== '' ? `${e.key}=${e.val}` : '').filter(e => e !== '').join('&')\n  const encodePage = encodeURIComponent(pathUrl + (pageCheckUrl === '' && pageInputUrl === '' && globalInputUrl === '' ? '' : '?') + pageCheckUrl + (pageCheckUrl !== '' && pageInputUrl !== '' ? '&' : '') + pageInputUrl)\n  const encodeGlobal = (globalInputUrl !== '' ? '&query=' : '') + encodeURIComponent(globalInputUrl)\n  const encodedUrl = pagePath === '' ? '' : `alipays://platformapi/startapp?appId=${appId}&page=${encodePage}${encodeGlobal}`\n  return (\n    <>\n      <Radio.Group value={'alipay'} size='large'>\n        <Radio value={'alipay'}><AlipayCircleOutlined /> Alipay 协议</Radio>\n      </Radio.Group>\n      <div>\n        <Cascader options={cascaderData} onChange={onChangeAppPage} size='large' notFoundContent='无数据'>\n          <a href=\"#\">点击选择</a>\n        </Cascader>\n        &nbsp;\n        {text}\n      </div>\n      {!encodedUrl\n        ? null\n        : <>\n          <ParamsWrapper>\n            <div><GroupOutlined /> 页面级参数</div>\n            {pageCheckData.length === 0\n              ? null\n              : pageCheckData.map((val, idx) => {\n                return <div key={idx}>\n                  {val[0]}: <Checkbox.Group options={val[1]} value={pageCheckQuerie[val[0]]} onChange={(e) => {\n                    const temp = { ...pageCheckQuerie }\n                    e.length < 2 ? temp[val[0]] = e : temp[val[0]] = e.filter(x => !temp[val[0]].includes(x))\n                    setPageCheckQuerie(temp)\n                  }} />\n                </div>\n              })}\n            {pageInputQueries.map(({ key, val }, idx) => {\n              return <StyledInputWrapper key={idx}>\n                <StyledInput placeholder=\"输入key，最长20位，以字母开头\" value={key} maxLength=\"20\" size=\"30\" pattern=\"^[A-Za-z](\\w)*\" onChange={(e) => {\n                  const temp = [...pageInputQueries]\n                  temp[idx].key = e.target.value\n                  setPageInputQueries(temp)\n                }} />\n                <StyledInput placeholder=\"输入value，最长20位\" value={val} maxLength=\"20\" size=\"30\" pattern=\"(\\w)*\" onChange={(e) => {\n                  const temp = [...pageInputQueries]\n                  temp[idx].val = e.target.value\n                  setPageInputQueries(temp)\n                }} />\n                <Button type=\"primary\" onClick={() => {\n                  let temp = [...pageInputQueries]\n                  if (pageInputQueries.length !== 1) {\n                    temp.splice(idx, 1)\n                  } else {\n                    temp = [{ key: '', val: '' }]\n                  }\n                  setPageInputQueries(temp)\n                }}>-</Button>\n                {idx === pageInputQueries.length - 1\n                  ? <Button type=\"primary\" onClick={() => {\n                    const temp = [...pageInputQueries]\n                    temp.push({ key: '', val: '' })\n                    setPageInputQueries(temp)\n                  }}>+</Button>\n                  : null}\n              </StyledInputWrapper>\n            })}\n          </ParamsWrapper>\n          <ParamsWrapper>\n            <div><GlobalOutlined /> 全局级参数</div>\n            {globalInputQueries.map(({ key, val }, idx) => {\n              return <StyledInputWrapper key={idx}>\n                <StyledInput placeholder=\"输入key，最长20位，以字母开头\" value={key} maxLength=\"20\" size=\"30\" pattern=\"^[A-Za-z](\\w)*\" onChange={(e) => {\n                  const temp = [...globalInputQueries]\n                  temp[idx].key = e.target.value\n                  setGlobalInputQueries(temp)\n                }} />\n                <StyledInput placeholder=\"输入value，最大长度20位\" value={val} maxLength=\"20\" size=\"30\" pattern=\"(\\w)*\" onChange={(e) => {\n                  const temp = [...globalInputQueries]\n                  temp[idx].val = e.target.value\n                  setGlobalInputQueries(temp)\n                }} />\n                <Button type=\"primary\" onClick={() => {\n                  let temp = [...globalInputQueries]\n                  if (globalInputQueries.length !== 1) {\n                    temp.splice(idx, 1)\n                  } else {\n                    temp = [{ key: '', val: '' }]\n                  }\n                  setGlobalInputQueries(temp)\n                }}>-</Button>\n                {idx === globalInputQueries.length - 1\n                  ? <Button type=\"primary\" onClick={() => {\n                    const temp = [...globalInputQueries]\n                    temp.push({ key: '', val: '' })\n                    setGlobalInputQueries(temp)\n                  }}>+</Button>\n                  : null}\n              </StyledInputWrapper>\n            })}\n          </ParamsWrapper>\n          <StyledUrlWrapper>{encodedUrl}</StyledUrlWrapper>\n          <Space>\n            <Button type=\"primary\" onClick={() => {\n              navigator.clipboard.writeText(encodedUrl)\n              message.success('链接已复制到剪切板')\n            }}>点击复制链接</Button>\n            <Popover\n              content={<QRCode value={encodedUrl} size={200} />}\n              title=\"请扫描二维码\"\n              trigger=\"click\"\n              visible={isShowPopover}\n              onVisibleChange={() => setIsShowPopover(!isShowPopover)}\n            >\n              <Button type=\"primary\">点击生成二维码</Button>\n            </Popover>\n          </Space>\n        </>\n      }\n    </>\n  )\n}\n\nexport default Component\n"],"names":["miniAppIds","vv会员","存量小程序","miniAppPages","会员管理","会员规则","会员退订","退订调查问卷","会员攻略","权益中间页","会员账单","会员周","会员任务","首页","支付结果页","订单列表","订单详情","协议页面","miniAppPageExtra","pathname","upgrade","type","frame","anchor","StyledInputWrapper","styled","StyledUrlWrapper","ParamsWrapper","StyledInput","cascaderData","Object","entries","map","e","value","label","children","keys","pageCheckData","useState","text","setText","appId","setAppId","pagePath","setPagePath","pageCheckQuerie","setPageCheckQuerie","key","val","pageInputQueries","setPageInputQueries","globalInputQueries","setGlobalInputQueries","isShowPopover","setIsShowPopover","pathUrl","pageCheckUrl","length","filter","join","pageInputUrl","globalInputUrl","encodePage","encodeURIComponent","encodeGlobal","encodedUrl","size","AlipayCircleOutlined","options","onChange","DoubleRightOutlined","toString","Array","isArray","notFoundContent","href","GroupOutlined","idx","temp","x","includes","placeholder","maxLength","pattern","target","onClick","splice","push","GlobalOutlined","navigator","clipboard","writeText","message","content","title","trigger","visible","onVisibleChange"],"sourceRoot":""}