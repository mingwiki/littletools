{"version":3,"file":"static/js/22.f21f0c5c.chunk.js","mappings":"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","sources":["tools/AppPageToUrl/data.js","tools/AppPageToUrl/index.jsx"],"sourcesContent":["export const miniAppIds = {\n  vv会员: '2021002152610059',\n  存量小程序: '2021002181632074'\n}\nexport const miniAppPages = {\n  vv会员: {\n    '首页/办理页': 'index/index',\n    '详情页/生效页': 'detail/index',\n    会员管理: 'manage/index',\n    会员规则: 'memberRule/index',\n    会员退订: 'exit/index',\n    退订调查问卷: 'question/index',\n    会员攻略: 'strategy/index',\n    权益中间页: 'yinge/index',\n    会员账单: 'billList/index',\n    会员周: 'memberWeek/index',\n    会员任务: 'task/index'\n  },\n  存量小程序: {\n    首页: 'index/index',\n    支付结果页: 'payResult/index',\n    订单列表: 'tradeList/index',\n    订单详情: 'tradeDetail/index',\n    协议页面: 'pureText/index'\n  }\n}\nexport const miniAppPageExtra = {\n  2021002181632074: {\n    'index/index': {\n      pathname: ['splitItem', 'swiperItem', 'singleItem']\n    }\n  },\n  2021002152610059: {\n    'index/index': {\n      upgrade: true,\n      type: 'basic',\n      frame: 'single',\n      anchor: ['call', 'life', 'fee']\n    },\n    'exit/index': {\n      type: ['vip', 'basic']\n    },\n    'manage/index': {\n      type: ['vip', 'basic']\n    },\n    'memberRule/index': {\n      type: ['vip', 'basic']\n    },\n    'question/index': {\n      type: ['vip', 'basic']\n    },\n    'strategy/index': {\n      type: ['vip', 'basic']\n    }\n  }\n}\n","import React, { useState } from 'react'\nimport { Cascader, message, Button, Space, Popover, Radio, Checkbox } from 'antd'\nimport { AlipayCircleOutlined, DoubleRightOutlined } from '@ant-design/icons'\nimport { miniAppIds, miniAppPages, miniAppPageExtra } from './data.js'\nimport styled from 'styled-components'\nimport QRCode from 'qrcode.react'\n\nconst StyledInputWrapper = styled.div`\n  display: flex;\n  gap: 10px;\n`\nconst StyledUrlWrapper = styled.p`\n  word-wrap: break-word;\n  word-break: break-all;\n  white-space: pre-wrap;\n  padding: 10px;\n  box-shadow: 0px 0px 5px 2px #5D7EA3;\n`\nconst appPageData = Object.entries(miniAppPages).map(e => {\n  const app = {\n    value: e[0],\n    label: e[0],\n    children: Object.keys(e[1]).map(e => {\n      const page = {\n        value: e,\n        label: e\n      }\n      return page\n    })\n  }\n  return app\n})\nlet appCheckData = []\nconst Component = () => {\n  const [text, setText] = useState('小程序名称和对应页面')\n  const [appId, setAppId] = useState('')\n  const [pagePath, setPagePath] = useState('')\n  const [checkQueries, setCheckQueries] = useState({})\n  const [inputQueries, setInputQueries] = useState([{ key: '', val: '' }])\n  const [isShowPopover, setIsShowPopover] = useState(false)\n  const onChangeAppPage = (value) => {\n    setText(<>{value[0]} <DoubleRightOutlined /> {value[1]}</>)\n    setAppId(miniAppIds[value[0]])\n    setPagePath(miniAppPages[value[0]][value[1]])\n    if (miniAppPageExtra[miniAppIds[value[0]]][miniAppPages[value[0]][value[1]]]) {\n      appCheckData = Object.entries(miniAppPageExtra[miniAppIds[value[0]]][miniAppPages[value[0]][value[1]]]).map((e) => {\n        if (typeof e[1] === 'boolean') {\n          e[1] = e[1].toString()\n        }\n        if (!Array.isArray(e[1])) {\n          e[1] = [e[1]]\n        }\n        return e\n      })\n    } else {\n      appCheckData = []\n    }\n  }\n  const addInputBox = () => {\n    const temp = [...inputQueries]\n    temp.push({ key: '', val: '' })\n    setInputQueries(temp)\n  }\n  const delInputBox = (idx) => {\n    const temp = [...inputQueries]\n    temp.splice(idx, 1)\n    setInputQueries(temp)\n  }\n  const pathUrl = `pages/${pagePath}`\n  const checkUrl = Object.keys(checkQueries).length === 0 ? '' : Object.entries(checkQueries).map((e) => e[1].length !== 0 ? `${e[0]}=${e[1]}` : '').filter(e => e !== '').join('&')\n  const inputUrl = inputQueries.length === 1 && inputQueries[0].key === '' && inputQueries[0].val === '' ? '' : inputQueries.map(e => e.key !== '' && e.val !== '' ? `${e.key}=${e.val}` : '').filter(e => e !== '').join('&')\n  const url = pathUrl + (checkUrl === '' && inputUrl === '' ? '' : '?') + checkUrl + (checkUrl !== '' && inputUrl !== '' ? '&' : '') + inputUrl\n  const encodedUrl = pagePath === '' ? '' : `alipays://platformapi/startapp?appId=${appId}&page=${encodeURIComponent(url)}`\n  return (\n    <>\n      <Radio.Group value={'alipay'} size='large'>\n        <Radio value={'alipay'}><AlipayCircleOutlined /> Alipay 协议</Radio>\n      </Radio.Group>\n      <div>\n        <Cascader options={appPageData} onChange={onChangeAppPage} size='large' notFoundContent='无数据'>\n          <a href=\"#\">点击选择</a>\n        </Cascader>\n        &nbsp;\n        {text}\n      </div>\n      {!encodedUrl\n        ? null\n        : <>\n          {appCheckData.length === 0\n            ? null\n            : appCheckData.map((val, idx) => {\n              return <div key={idx}>\n                {val[0]}: <Checkbox.Group options={val[1]} value={checkQueries[val[0]]} onChange={(e) => {\n                  const temp = { ...checkQueries }\n                  e.length < 2 ? temp[val[0]] = e : temp[val[0]] = e.filter(x => !temp[val[0]].includes(x))\n                  setCheckQueries(temp)\n                }} />\n              </div>\n            })}\n          {inputQueries.map(({ key, val }, idx) => {\n            return <StyledInputWrapper key={idx}>\n              <input placeholder=\"输入key\" value={key} onChange={(e) => {\n                const temp = [...inputQueries]\n                temp[idx].key = e.target.value\n                setInputQueries(temp)\n              }} />\n              <input placeholder=\"输入value\" value={val} onChange={(e) => {\n                const temp = [...inputQueries]\n                temp[idx].val = e.target.value\n                setInputQueries(temp)\n              }} />\n              {inputQueries.length === 1\n                ? null\n                : <Button type=\"primary\" onClick={() => delInputBox(idx)}>-</Button>}\n              {idx === inputQueries.length - 1\n                ? <Button type=\"primary\" onClick={() => addInputBox()}>+</Button>\n                : null}\n            </StyledInputWrapper>\n          })}\n          <StyledUrlWrapper>{encodedUrl}</StyledUrlWrapper>\n          <Space>\n            <Button type=\"primary\" onClick={() => {\n              navigator.clipboard.writeText(encodedUrl)\n              message.success('链接已复制到剪切板')\n            }}>点击复制链接</Button>\n            <Popover\n              content={<QRCode value={encodedUrl} size={200} />}\n              title=\"请扫描二维码\"\n              trigger=\"click\"\n              visible={isShowPopover}\n              onVisibleChange={() => setIsShowPopover(!isShowPopover)}\n            >\n              <Button type=\"primary\">点击生成二维码</Button>\n            </Popover>\n          </Space>\n        </>\n      }\n    </>\n  )\n}\n\nexport default Component\n"],"names":["miniAppIds","vv会员","存量小程序","miniAppPages","会员管理","会员规则","会员退订","退订调查问卷","会员攻略","权益中间页","会员账单","会员周","会员任务","首页","支付结果页","订单列表","订单详情","协议页面","miniAppPageExtra","pathname","upgrade","type","frame","anchor","StyledInputWrapper","styled","StyledUrlWrapper","appPageData","Object","entries","map","e","value","label","children","keys","appCheckData","useState","text","setText","appId","setAppId","pagePath","setPagePath","checkQueries","setCheckQueries","key","val","inputQueries","setInputQueries","isShowPopover","setIsShowPopover","pathUrl","checkUrl","length","filter","join","inputUrl","url","encodedUrl","encodeURIComponent","size","AlipayCircleOutlined","options","onChange","DoubleRightOutlined","toString","Array","isArray","notFoundContent","href","idx","temp","x","includes","placeholder","target","onClick","splice","delInputBox","push","addInputBox","navigator","clipboard","writeText","message","content","title","trigger","visible","onVisibleChange"],"sourceRoot":""}